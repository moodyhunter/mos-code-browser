<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>cpuid.c source code [MOS/arch/x86/cpu/cpuid.c] - Woboq Code Browser</title>
<link rel="stylesheet" href="/mos-code-browser/data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="/mos-code-browser/data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="/mos-code-browser/data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="/mos-code-browser/data/jquery/jquery-ui.min.js"></script>
<script>var file = 'MOS/arch/x86/cpu/cpuid.c'; var root_path = '../../../..'; var data_path = '/mos-code-browser/data'; var ecma_script_api_version = 2;</script>
<script src='/mos-code-browser/data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../..'>MOS</a>/<a href='../..'>arch</a>/<a href='..'>x86</a>/<a href='./'>cpu</a>/<a href='cpuid.c.html'>cpuid.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>// SPDX-License-Identifier: GPL-3.0-or-later</i></td></tr>
<tr><th id="2">2</th><td></td></tr>
<tr><th id="3">3</th><td><u>#include <a href="../include/mos/x86/cpu/cpuid.h.html">"mos/x86/cpu/cpuid.h"</a></u></td></tr>
<tr><th id="4">4</th><td></td></tr>
<tr><th id="5">5</th><td><u>#include <a href="../../../kernel/include/mos/printk.h.html">"mos/printk.h"</a></u></td></tr>
<tr><th id="6">6</th><td></td></tr>
<tr><th id="7">7</th><td><em>const</em> <em>char</em> *<em>const</em> <dfn class="decl def" id="cpuid_type_str" title='cpuid_type_str' data-ref="cpuid_type_str" data-ref-filename="cpuid_type_str">cpuid_type_str</dfn>[] = {</td></tr>
<tr><th id="8">8</th><td>    [<a class="enum" href="../include/mos/x86/cpu/cpuid.h.html#CPUID_T_OEM" title='CPUID_T_OEM' data-ref="CPUID_T_OEM" data-ref-filename="CPUID_T_OEM">CPUID_T_OEM</a>] = <q>"OEM"</q>,</td></tr>
<tr><th id="9">9</th><td>    [<a class="enum" href="../include/mos/x86/cpu/cpuid.h.html#CPUID_T_IntelOverdrive" title='CPUID_T_IntelOverdrive' data-ref="CPUID_T_IntelOverdrive" data-ref-filename="CPUID_T_IntelOverdrive">CPUID_T_IntelOverdrive</a>] = <q>"Intel Overdrive"</q>,</td></tr>
<tr><th id="10">10</th><td>    [<a class="enum" href="../include/mos/x86/cpu/cpuid.h.html#CPUID_T_DualProcessor" title='CPUID_T_DualProcessor' data-ref="CPUID_T_DualProcessor" data-ref-filename="CPUID_T_DualProcessor">CPUID_T_DualProcessor</a>] = <q>"Dual Processor"</q>,</td></tr>
<tr><th id="11">11</th><td>    [<a class="enum" href="../include/mos/x86/cpu/cpuid.h.html#CPUID_T_Reserved" title='CPUID_T_Reserved' data-ref="CPUID_T_Reserved" data-ref-filename="CPUID_T_Reserved">CPUID_T_Reserved</a>] = <q>"Reserved"</q>,</td></tr>
<tr><th id="12">12</th><td>};</td></tr>
<tr><th id="13">13</th><td></td></tr>
<tr><th id="14">14</th><td><em>void</em> <dfn class="decl def fn" id="x86_call_cpuid" title='x86_call_cpuid' data-ref="x86_call_cpuid" data-ref-filename="x86_call_cpuid">x86_call_cpuid</dfn>(<a class="typedef" href="../../../kernel/include/mos/types.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32" data-ref-filename="u32">u32</a> <dfn class="local col1 decl" id="1eax" title='eax' data-type='u32' data-ref="1eax" data-ref-filename="1eax">eax</dfn>, <a class="typedef" href="../include/mos/x86/cpu/cpuid.h.html#x86_cpuid_info_t" title='x86_cpuid_info_t' data-type='struct x86_cpuid_info_t' data-ref="x86_cpuid_info_t" data-ref-filename="x86_cpuid_info_t">x86_cpuid_info_t</a> *<dfn class="local col2 decl" id="2cpuid" title='cpuid' data-type='x86_cpuid_info_t *' data-ref="2cpuid" data-ref-filename="2cpuid">cpuid</dfn>)</td></tr>
<tr><th id="15">15</th><td>{</td></tr>
<tr><th id="16">16</th><td>    <b>__asm__</b>(<q>"cpuid"</q> : <q>"=a"</q>(<a class="local col2 ref" href="#2cpuid" title='cpuid' data-ref="2cpuid" data-ref-filename="2cpuid">cpuid</a>-&gt;<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::eax" title='(anonymous struct)::eax' data-ref="(anonymous)::eax" data-ref-filename="(anonymous)..eax">eax</a>), <q>"=b"</q>(<a class="local col2 ref" href="#2cpuid" title='cpuid' data-ref="2cpuid" data-ref-filename="2cpuid">cpuid</a>-&gt;<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::ebx" title='(anonymous struct)::ebx' data-ref="(anonymous)::ebx" data-ref-filename="(anonymous)..ebx">ebx</a>), <q>"=c"</q>(<a class="local col2 ref" href="#2cpuid" title='cpuid' data-ref="2cpuid" data-ref-filename="2cpuid">cpuid</a>-&gt;<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::ecx" title='(anonymous struct)::ecx' data-ref="(anonymous)::ecx" data-ref-filename="(anonymous)..ecx">ecx</a>), <q>"=d"</q>(<a class="local col2 ref" href="#2cpuid" title='cpuid' data-ref="2cpuid" data-ref-filename="2cpuid">cpuid</a>-&gt;<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::edx" title='(anonymous struct)::edx' data-ref="(anonymous)::edx" data-ref-filename="(anonymous)..edx">edx</a>) : <q>"0"</q>(<a class="local col1 ref" href="#1eax" title='eax' data-ref="1eax" data-ref-filename="1eax">eax</a>));</td></tr>
<tr><th id="17">17</th><td>}</td></tr>
<tr><th id="18">18</th><td></td></tr>
<tr><th id="19">19</th><td><em>void</em> <dfn class="decl def fn" id="cpuid_get_manufacturer" title='cpuid_get_manufacturer' data-ref="cpuid_get_manufacturer" data-ref-filename="cpuid_get_manufacturer">cpuid_get_manufacturer</dfn>(<em>char</em> *<dfn class="local col3 decl" id="3manufacturer" title='manufacturer' data-type='char *' data-ref="3manufacturer" data-ref-filename="3manufacturer">manufacturer</dfn>)</td></tr>
<tr><th id="20">20</th><td>{</td></tr>
<tr><th id="21">21</th><td>    <a class="macro" href="../../../kernel/include/mos/printk.h.html#16" title="do { if (__builtin_expect(!!(!(manufacturer != ((void*)0))), 0)) mos_kpanic(__func__, 21, &quot;&quot; &quot;Assertion failed: %s \n&quot; &quot;&quot;, &quot;manufacturer != ((void*)0)&quot;); } while (0)" data-ref="_M/MOS_ASSERT">MOS_ASSERT</a>(<a class="local col3 ref" href="#3manufacturer" title='manufacturer' data-ref="3manufacturer" data-ref-filename="3manufacturer">manufacturer</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="22">22</th><td>    <a class="typedef" href="../include/mos/x86/cpu/cpuid.h.html#x86_cpuid_info_t" title='x86_cpuid_info_t' data-type='struct x86_cpuid_info_t' data-ref="x86_cpuid_info_t" data-ref-filename="x86_cpuid_info_t">x86_cpuid_info_t</a> <dfn class="local col4 decl" id="4cpuid" title='cpuid' data-type='x86_cpuid_info_t' data-ref="4cpuid" data-ref-filename="4cpuid">cpuid</dfn> = { <var>0</var> };</td></tr>
<tr><th id="23">23</th><td>    <a class="ref fn" href="#x86_call_cpuid" title='x86_call_cpuid' data-ref="x86_call_cpuid" data-ref-filename="x86_call_cpuid">x86_call_cpuid</a>(<var>0</var>, &amp;<a class="local col4 ref" href="#4cpuid" title='cpuid' data-ref="4cpuid" data-ref-filename="4cpuid">cpuid</a>);</td></tr>
<tr><th id="24">24</th><td>    *(<a class="typedef" href="../../../kernel/include/mos/types.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32" data-ref-filename="u32">u32</a> *) &amp;<a class="local col3 ref" href="#3manufacturer" title='manufacturer' data-ref="3manufacturer" data-ref-filename="3manufacturer">manufacturer</a>[<var>0</var>] = <a class="local col4 ref" href="#4cpuid" title='cpuid' data-ref="4cpuid" data-ref-filename="4cpuid">cpuid</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::ebx" title='(anonymous struct)::ebx' data-ref="(anonymous)::ebx" data-ref-filename="(anonymous)..ebx">ebx</a>;</td></tr>
<tr><th id="25">25</th><td>    *(<a class="typedef" href="../../../kernel/include/mos/types.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32" data-ref-filename="u32">u32</a> *) &amp;<a class="local col3 ref" href="#3manufacturer" title='manufacturer' data-ref="3manufacturer" data-ref-filename="3manufacturer">manufacturer</a>[<var>4</var>] = <a class="local col4 ref" href="#4cpuid" title='cpuid' data-ref="4cpuid" data-ref-filename="4cpuid">cpuid</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::edx" title='(anonymous struct)::edx' data-ref="(anonymous)::edx" data-ref-filename="(anonymous)..edx">edx</a>;</td></tr>
<tr><th id="26">26</th><td>    *(<a class="typedef" href="../../../kernel/include/mos/types.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32" data-ref-filename="u32">u32</a> *) &amp;<a class="local col3 ref" href="#3manufacturer" title='manufacturer' data-ref="3manufacturer" data-ref-filename="3manufacturer">manufacturer</a>[<var>8</var>] = <a class="local col4 ref" href="#4cpuid" title='cpuid' data-ref="4cpuid" data-ref-filename="4cpuid">cpuid</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::ecx" title='(anonymous struct)::ecx' data-ref="(anonymous)::ecx" data-ref-filename="(anonymous)..ecx">ecx</a>;</td></tr>
<tr><th id="27">27</th><td>    <a class="local col3 ref" href="#3manufacturer" title='manufacturer' data-ref="3manufacturer" data-ref-filename="3manufacturer">manufacturer</a>[<var>12</var>] = <var>0</var>;</td></tr>
<tr><th id="28">28</th><td>}</td></tr>
<tr><th id="29">29</th><td></td></tr>
<tr><th id="30">30</th><td><em>void</em> <dfn class="decl def fn" id="cpuid_get_processor_info" title='cpuid_get_processor_info' data-ref="cpuid_get_processor_info" data-ref-filename="cpuid_get_processor_info">cpuid_get_processor_info</dfn>(<a class="typedef" href="../include/mos/x86/cpu/cpuid.h.html#processor_version_t" title='processor_version_t' data-type='struct processor_version_t' data-ref="processor_version_t" data-ref-filename="processor_version_t">processor_version_t</a> *<dfn class="local col5 decl" id="5info" title='info' data-type='processor_version_t *' data-ref="5info" data-ref-filename="5info">info</dfn>)</td></tr>
<tr><th id="31">31</th><td>{</td></tr>
<tr><th id="32">32</th><td>    <a class="typedef" href="../include/mos/x86/cpu/cpuid.h.html#x86_cpuid_info_t" title='x86_cpuid_info_t' data-type='struct x86_cpuid_info_t' data-ref="x86_cpuid_info_t" data-ref-filename="x86_cpuid_info_t">x86_cpuid_info_t</a> <dfn class="local col6 decl" id="6cpuid" title='cpuid' data-type='x86_cpuid_info_t' data-ref="6cpuid" data-ref-filename="6cpuid">cpuid</dfn> = { <var>0</var> };</td></tr>
<tr><th id="33">33</th><td>    <a class="ref fn" href="#x86_call_cpuid" title='x86_call_cpuid' data-ref="x86_call_cpuid" data-ref-filename="x86_call_cpuid">x86_call_cpuid</a>(<var>1</var>, &amp;<a class="local col6 ref" href="#6cpuid" title='cpuid' data-ref="6cpuid" data-ref-filename="6cpuid">cpuid</a>);</td></tr>
<tr><th id="34">34</th><td>    <a class="local col5 ref" href="#5info" title='info' data-ref="5info" data-ref-filename="5info">info</a>-&gt;<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::eax" title='(anonymous struct)::eax' data-ref="(anonymous)::eax" data-ref-filename="(anonymous)..eax">eax</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymousstruct)::(anonymous)::raw" title='(anonymous struct)::(anonymous union)::raw' data-ref="(anonymousstruct)::(anonymous)::raw" data-ref-filename="(anonymousstruct)..(anonymous)..raw">raw</a> = <a class="local col6 ref" href="#6cpuid" title='cpuid' data-ref="6cpuid" data-ref-filename="6cpuid">cpuid</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::eax" title='(anonymous struct)::eax' data-ref="(anonymous)::eax" data-ref-filename="(anonymous)..eax">eax</a>;</td></tr>
<tr><th id="35">35</th><td>    <a class="local col5 ref" href="#5info" title='info' data-ref="5info" data-ref-filename="5info">info</a>-&gt;<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::ebx" title='(anonymous struct)::ebx' data-ref="(anonymous)::ebx" data-ref-filename="(anonymous)..ebx">ebx</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymousstruct)::(anonymous)::raw" title='(anonymous struct)::(anonymous union)::raw' data-ref="(anonymousstruct)::(anonymous)::raw" data-ref-filename="(anonymousstruct)..(anonymous)..raw">raw</a> = <a class="local col6 ref" href="#6cpuid" title='cpuid' data-ref="6cpuid" data-ref-filename="6cpuid">cpuid</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::ebx" title='(anonymous struct)::ebx' data-ref="(anonymous)::ebx" data-ref-filename="(anonymous)..ebx">ebx</a>;</td></tr>
<tr><th id="36">36</th><td>    <a class="local col5 ref" href="#5info" title='info' data-ref="5info" data-ref-filename="5info">info</a>-&gt;<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::ecx" title='(anonymous struct)::ecx' data-ref="(anonymous)::ecx" data-ref-filename="(anonymous)..ecx">ecx</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymousstruct)::(anonymous)::raw" title='(anonymous struct)::(anonymous union)::raw' data-ref="(anonymousstruct)::(anonymous)::raw" data-ref-filename="(anonymousstruct)..(anonymous)..raw">raw</a> = <a class="local col6 ref" href="#6cpuid" title='cpuid' data-ref="6cpuid" data-ref-filename="6cpuid">cpuid</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::ecx" title='(anonymous struct)::ecx' data-ref="(anonymous)::ecx" data-ref-filename="(anonymous)..ecx">ecx</a>;</td></tr>
<tr><th id="37">37</th><td>    <a class="local col5 ref" href="#5info" title='info' data-ref="5info" data-ref-filename="5info">info</a>-&gt;<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::edx" title='(anonymous struct)::edx' data-ref="(anonymous)::edx" data-ref-filename="(anonymous)..edx">edx</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymousstruct)::(anonymous)::raw" title='(anonymous struct)::(anonymous union)::raw' data-ref="(anonymousstruct)::(anonymous)::raw" data-ref-filename="(anonymousstruct)..(anonymous)..raw">raw</a> = <a class="local col6 ref" href="#6cpuid" title='cpuid' data-ref="6cpuid" data-ref-filename="6cpuid">cpuid</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::edx" title='(anonymous struct)::edx' data-ref="(anonymous)::edx" data-ref-filename="(anonymous)..edx">edx</a>;</td></tr>
<tr><th id="38">38</th><td>}</td></tr>
<tr><th id="39">39</th><td></td></tr>
<tr><th id="40">40</th><td><em>void</em> <dfn class="decl def fn" id="cpuid_get_brand_string" title='cpuid_get_brand_string' data-ref="cpuid_get_brand_string" data-ref-filename="cpuid_get_brand_string">cpuid_get_brand_string</dfn>(<em>char</em> *<dfn class="local col7 decl" id="7brand_string" title='brand_string' data-type='char *' data-ref="7brand_string" data-ref-filename="7brand_string">brand_string</dfn>)</td></tr>
<tr><th id="41">41</th><td>{</td></tr>
<tr><th id="42">42</th><td>    <a class="typedef" href="../include/mos/x86/cpu/cpuid.h.html#x86_cpuid_info_t" title='x86_cpuid_info_t' data-type='struct x86_cpuid_info_t' data-ref="x86_cpuid_info_t" data-ref-filename="x86_cpuid_info_t">x86_cpuid_info_t</a> <dfn class="local col8 decl" id="8cpuid" title='cpuid' data-type='x86_cpuid_info_t' data-ref="8cpuid" data-ref-filename="8cpuid">cpuid</dfn> = { <var>0</var> };</td></tr>
<tr><th id="43">43</th><td>    <a class="ref fn" href="#x86_call_cpuid" title='x86_call_cpuid' data-ref="x86_call_cpuid" data-ref-filename="x86_call_cpuid">x86_call_cpuid</a>(<var>0x80000002</var>, &amp;<a class="local col8 ref" href="#8cpuid" title='cpuid' data-ref="8cpuid" data-ref-filename="8cpuid">cpuid</a>);</td></tr>
<tr><th id="44">44</th><td>    *(<a class="typedef" href="../../../kernel/include/mos/types.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32" data-ref-filename="u32">u32</a> *) &amp;<a class="local col7 ref" href="#7brand_string" title='brand_string' data-ref="7brand_string" data-ref-filename="7brand_string">brand_string</a>[<var>0</var>] = <a class="local col8 ref" href="#8cpuid" title='cpuid' data-ref="8cpuid" data-ref-filename="8cpuid">cpuid</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::eax" title='(anonymous struct)::eax' data-ref="(anonymous)::eax" data-ref-filename="(anonymous)..eax">eax</a>;</td></tr>
<tr><th id="45">45</th><td>    *(<a class="typedef" href="../../../kernel/include/mos/types.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32" data-ref-filename="u32">u32</a> *) &amp;<a class="local col7 ref" href="#7brand_string" title='brand_string' data-ref="7brand_string" data-ref-filename="7brand_string">brand_string</a>[<var>4</var>] = <a class="local col8 ref" href="#8cpuid" title='cpuid' data-ref="8cpuid" data-ref-filename="8cpuid">cpuid</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::ebx" title='(anonymous struct)::ebx' data-ref="(anonymous)::ebx" data-ref-filename="(anonymous)..ebx">ebx</a>;</td></tr>
<tr><th id="46">46</th><td>    *(<a class="typedef" href="../../../kernel/include/mos/types.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32" data-ref-filename="u32">u32</a> *) &amp;<a class="local col7 ref" href="#7brand_string" title='brand_string' data-ref="7brand_string" data-ref-filename="7brand_string">brand_string</a>[<var>8</var>] = <a class="local col8 ref" href="#8cpuid" title='cpuid' data-ref="8cpuid" data-ref-filename="8cpuid">cpuid</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::ecx" title='(anonymous struct)::ecx' data-ref="(anonymous)::ecx" data-ref-filename="(anonymous)..ecx">ecx</a>;</td></tr>
<tr><th id="47">47</th><td>    *(<a class="typedef" href="../../../kernel/include/mos/types.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32" data-ref-filename="u32">u32</a> *) &amp;<a class="local col7 ref" href="#7brand_string" title='brand_string' data-ref="7brand_string" data-ref-filename="7brand_string">brand_string</a>[<var>12</var>] = <a class="local col8 ref" href="#8cpuid" title='cpuid' data-ref="8cpuid" data-ref-filename="8cpuid">cpuid</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::edx" title='(anonymous struct)::edx' data-ref="(anonymous)::edx" data-ref-filename="(anonymous)..edx">edx</a>;</td></tr>
<tr><th id="48">48</th><td>    <a class="ref fn" href="#x86_call_cpuid" title='x86_call_cpuid' data-ref="x86_call_cpuid" data-ref-filename="x86_call_cpuid">x86_call_cpuid</a>(<var>0x80000003</var>, &amp;<a class="local col8 ref" href="#8cpuid" title='cpuid' data-ref="8cpuid" data-ref-filename="8cpuid">cpuid</a>);</td></tr>
<tr><th id="49">49</th><td>    *(<a class="typedef" href="../../../kernel/include/mos/types.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32" data-ref-filename="u32">u32</a> *) &amp;<a class="local col7 ref" href="#7brand_string" title='brand_string' data-ref="7brand_string" data-ref-filename="7brand_string">brand_string</a>[<var>16</var>] = <a class="local col8 ref" href="#8cpuid" title='cpuid' data-ref="8cpuid" data-ref-filename="8cpuid">cpuid</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::eax" title='(anonymous struct)::eax' data-ref="(anonymous)::eax" data-ref-filename="(anonymous)..eax">eax</a>;</td></tr>
<tr><th id="50">50</th><td>    *(<a class="typedef" href="../../../kernel/include/mos/types.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32" data-ref-filename="u32">u32</a> *) &amp;<a class="local col7 ref" href="#7brand_string" title='brand_string' data-ref="7brand_string" data-ref-filename="7brand_string">brand_string</a>[<var>20</var>] = <a class="local col8 ref" href="#8cpuid" title='cpuid' data-ref="8cpuid" data-ref-filename="8cpuid">cpuid</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::ebx" title='(anonymous struct)::ebx' data-ref="(anonymous)::ebx" data-ref-filename="(anonymous)..ebx">ebx</a>;</td></tr>
<tr><th id="51">51</th><td>    *(<a class="typedef" href="../../../kernel/include/mos/types.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32" data-ref-filename="u32">u32</a> *) &amp;<a class="local col7 ref" href="#7brand_string" title='brand_string' data-ref="7brand_string" data-ref-filename="7brand_string">brand_string</a>[<var>24</var>] = <a class="local col8 ref" href="#8cpuid" title='cpuid' data-ref="8cpuid" data-ref-filename="8cpuid">cpuid</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::ecx" title='(anonymous struct)::ecx' data-ref="(anonymous)::ecx" data-ref-filename="(anonymous)..ecx">ecx</a>;</td></tr>
<tr><th id="52">52</th><td>    *(<a class="typedef" href="../../../kernel/include/mos/types.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32" data-ref-filename="u32">u32</a> *) &amp;<a class="local col7 ref" href="#7brand_string" title='brand_string' data-ref="7brand_string" data-ref-filename="7brand_string">brand_string</a>[<var>28</var>] = <a class="local col8 ref" href="#8cpuid" title='cpuid' data-ref="8cpuid" data-ref-filename="8cpuid">cpuid</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::edx" title='(anonymous struct)::edx' data-ref="(anonymous)::edx" data-ref-filename="(anonymous)..edx">edx</a>;</td></tr>
<tr><th id="53">53</th><td>    <a class="ref fn" href="#x86_call_cpuid" title='x86_call_cpuid' data-ref="x86_call_cpuid" data-ref-filename="x86_call_cpuid">x86_call_cpuid</a>(<var>0x80000004</var>, &amp;<a class="local col8 ref" href="#8cpuid" title='cpuid' data-ref="8cpuid" data-ref-filename="8cpuid">cpuid</a>);</td></tr>
<tr><th id="54">54</th><td>    *(<a class="typedef" href="../../../kernel/include/mos/types.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32" data-ref-filename="u32">u32</a> *) &amp;<a class="local col7 ref" href="#7brand_string" title='brand_string' data-ref="7brand_string" data-ref-filename="7brand_string">brand_string</a>[<var>32</var>] = <a class="local col8 ref" href="#8cpuid" title='cpuid' data-ref="8cpuid" data-ref-filename="8cpuid">cpuid</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::eax" title='(anonymous struct)::eax' data-ref="(anonymous)::eax" data-ref-filename="(anonymous)..eax">eax</a>;</td></tr>
<tr><th id="55">55</th><td>    *(<a class="typedef" href="../../../kernel/include/mos/types.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32" data-ref-filename="u32">u32</a> *) &amp;<a class="local col7 ref" href="#7brand_string" title='brand_string' data-ref="7brand_string" data-ref-filename="7brand_string">brand_string</a>[<var>36</var>] = <a class="local col8 ref" href="#8cpuid" title='cpuid' data-ref="8cpuid" data-ref-filename="8cpuid">cpuid</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::ebx" title='(anonymous struct)::ebx' data-ref="(anonymous)::ebx" data-ref-filename="(anonymous)..ebx">ebx</a>;</td></tr>
<tr><th id="56">56</th><td>    *(<a class="typedef" href="../../../kernel/include/mos/types.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32" data-ref-filename="u32">u32</a> *) &amp;<a class="local col7 ref" href="#7brand_string" title='brand_string' data-ref="7brand_string" data-ref-filename="7brand_string">brand_string</a>[<var>40</var>] = <a class="local col8 ref" href="#8cpuid" title='cpuid' data-ref="8cpuid" data-ref-filename="8cpuid">cpuid</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::ecx" title='(anonymous struct)::ecx' data-ref="(anonymous)::ecx" data-ref-filename="(anonymous)..ecx">ecx</a>;</td></tr>
<tr><th id="57">57</th><td>    *(<a class="typedef" href="../../../kernel/include/mos/types.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32" data-ref-filename="u32">u32</a> *) &amp;<a class="local col7 ref" href="#7brand_string" title='brand_string' data-ref="7brand_string" data-ref-filename="7brand_string">brand_string</a>[<var>44</var>] = <a class="local col8 ref" href="#8cpuid" title='cpuid' data-ref="8cpuid" data-ref-filename="8cpuid">cpuid</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::edx" title='(anonymous struct)::edx' data-ref="(anonymous)::edx" data-ref-filename="(anonymous)..edx">edx</a>;</td></tr>
<tr><th id="58">58</th><td>    <a class="local col7 ref" href="#7brand_string" title='brand_string' data-ref="7brand_string" data-ref-filename="7brand_string">brand_string</a>[<var>48</var>] = <var>0</var>;</td></tr>
<tr><th id="59">59</th><td>}</td></tr>
<tr><th id="60">60</th><td></td></tr>
<tr><th id="61">61</th><td><em>void</em> <dfn class="decl def fn" id="cpuid_print_cpu_info" title='cpuid_print_cpu_info' data-ref="cpuid_print_cpu_info" data-ref-filename="cpuid_print_cpu_info">cpuid_print_cpu_info</dfn>()</td></tr>
<tr><th id="62">62</th><td>{</td></tr>
<tr><th id="63">63</th><td>    <em>char</em> <dfn class="local col9 decl" id="9manufacturer" title='manufacturer' data-type='char[13]' data-ref="9manufacturer" data-ref-filename="9manufacturer">manufacturer</dfn>[<var>13</var>];</td></tr>
<tr><th id="64">64</th><td>    <a class="ref fn" href="#cpuid_get_manufacturer" title='cpuid_get_manufacturer' data-ref="cpuid_get_manufacturer" data-ref-filename="cpuid_get_manufacturer">cpuid_get_manufacturer</a>(<a class="local col9 ref" href="#9manufacturer" title='manufacturer' data-ref="9manufacturer" data-ref-filename="9manufacturer">manufacturer</a>);</td></tr>
<tr><th id="65">65</th><td>    <a class="typedef" href="../include/mos/x86/cpu/cpuid.h.html#processor_version_t" title='processor_version_t' data-type='struct processor_version_t' data-ref="processor_version_t" data-ref-filename="processor_version_t">processor_version_t</a> <dfn class="local col0 decl" id="10info" title='info' data-type='processor_version_t' data-ref="10info" data-ref-filename="10info">info</dfn>;</td></tr>
<tr><th id="66">66</th><td>    <a class="ref fn" href="#cpuid_get_processor_info" title='cpuid_get_processor_info' data-ref="cpuid_get_processor_info" data-ref-filename="cpuid_get_processor_info">cpuid_get_processor_info</a>(&amp;<a class="local col0 ref" href="#10info" title='info' data-ref="10info" data-ref-filename="10info">info</a>);</td></tr>
<tr><th id="67">67</th><td>    <em>char</em> <dfn class="local col1 decl" id="11brand_string" title='brand_string' data-type='char[49]' data-ref="11brand_string" data-ref-filename="11brand_string">brand_string</dfn>[<var>49</var>];</td></tr>
<tr><th id="68">68</th><td>    <a class="ref fn" href="#cpuid_get_brand_string" title='cpuid_get_brand_string' data-ref="cpuid_get_brand_string" data-ref-filename="cpuid_get_brand_string">cpuid_get_brand_string</a>(<a class="local col1 ref" href="#11brand_string" title='brand_string' data-ref="11brand_string" data-ref-filename="11brand_string">brand_string</a>);</td></tr>
<tr><th id="69">69</th><td>    <a class="macro" href="../../../kernel/include/mos/printk.h.html#50" title="lprintk(MOS_LOG_INFO2, &quot;&quot; &quot;CPU: %s (%s)&quot; &quot;\r\n&quot;, brand_string, manufacturer)" data-ref="_M/pr_info2">pr_info2</a>(<q>"CPU: %s (%s)"</q>, <a class="local col1 ref" href="#11brand_string" title='brand_string' data-ref="11brand_string" data-ref-filename="11brand_string">brand_string</a>, <a class="local col9 ref" href="#9manufacturer" title='manufacturer' data-ref="9manufacturer" data-ref-filename="9manufacturer">manufacturer</a>);</td></tr>
<tr><th id="70">70</th><td>    <a class="macro" href="../../../kernel/include/mos/printk.h.html#50" title="lprintk(MOS_LOG_INFO2, &quot;&quot; &quot;  Family %u, Model %u, Stepping %u&quot; &quot;\r\n&quot;, info.eax.family, info.eax.model, info.eax.stepping)" data-ref="_M/pr_info2">pr_info2</a>(<q>"  Family %u, Model %u, Stepping %u"</q>, <a class="local col0 ref" href="#10info" title='info' data-ref="10info" data-ref-filename="10info">info</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::eax" title='(anonymous struct)::eax' data-ref="(anonymous)::eax" data-ref-filename="(anonymous)..eax">eax</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymousstruct)::(anonymousunion)::(anonymous)::family" title='(anonymous struct)::(anonymous union)::(anonymous struct)::family' data-ref="(anonymousstruct)::(anonymousunion)::(anonymous)::family" data-ref-filename="(anonymousstruct)..(anonymousunion)..(anonymous)..family">family</a>, <a class="local col0 ref" href="#10info" title='info' data-ref="10info" data-ref-filename="10info">info</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::eax" title='(anonymous struct)::eax' data-ref="(anonymous)::eax" data-ref-filename="(anonymous)..eax">eax</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymousstruct)::(anonymousunion)::(anonymous)::model" title='(anonymous struct)::(anonymous union)::(anonymous struct)::model' data-ref="(anonymousstruct)::(anonymousunion)::(anonymous)::model" data-ref-filename="(anonymousstruct)..(anonymousunion)..(anonymous)..model">model</a>, <a class="local col0 ref" href="#10info" title='info' data-ref="10info" data-ref-filename="10info">info</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::eax" title='(anonymous struct)::eax' data-ref="(anonymous)::eax" data-ref-filename="(anonymous)..eax">eax</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymousstruct)::(anonymousunion)::(anonymous)::stepping" title='(anonymous struct)::(anonymous union)::(anonymous struct)::stepping' data-ref="(anonymousstruct)::(anonymousunion)::(anonymous)::stepping" data-ref-filename="(anonymousstruct)..(anonymousunion)..(anonymous)..stepping">stepping</a>);</td></tr>
<tr><th id="71">71</th><td>    <a class="macro" href="../../../kernel/include/mos/printk.h.html#50" title="lprintk(MOS_LOG_INFO2, &quot;&quot; &quot;  Type: %s, Ext family: %u, Ext model: %u&quot; &quot;\r\n&quot;, cpuid_type_str[info.eax.type], info.eax.ext_family, info.eax.ext_model)" data-ref="_M/pr_info2">pr_info2</a>(<q>"  Type: %s, Ext family: %u, Ext model: %u"</q>, <a class="ref" href="#cpuid_type_str" title='cpuid_type_str' data-ref="cpuid_type_str" data-ref-filename="cpuid_type_str">cpuid_type_str</a>[<a class="local col0 ref" href="#10info" title='info' data-ref="10info" data-ref-filename="10info">info</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::eax" title='(anonymous struct)::eax' data-ref="(anonymous)::eax" data-ref-filename="(anonymous)..eax">eax</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymousstruct)::(anonymousunion)::(anonymous)::type" title='(anonymous struct)::(anonymous union)::(anonymous struct)::type' data-ref="(anonymousstruct)::(anonymousunion)::(anonymous)::type" data-ref-filename="(anonymousstruct)..(anonymousunion)..(anonymous)..type">type</a>], <a class="local col0 ref" href="#10info" title='info' data-ref="10info" data-ref-filename="10info">info</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::eax" title='(anonymous struct)::eax' data-ref="(anonymous)::eax" data-ref-filename="(anonymous)..eax">eax</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymousstruct)::(anonymousunion)::(anonymous)::ext_family" title='(anonymous struct)::(anonymous union)::(anonymous struct)::ext_family' data-ref="(anonymousstruct)::(anonymousunion)::(anonymous)::ext_family" data-ref-filename="(anonymousstruct)..(anonymousunion)..(anonymous)..ext_family">ext_family</a>, <a class="local col0 ref" href="#10info" title='info' data-ref="10info" data-ref-filename="10info">info</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymous)::eax" title='(anonymous struct)::eax' data-ref="(anonymous)::eax" data-ref-filename="(anonymous)..eax">eax</a>.<a class="ref field" href="../include/mos/x86/cpu/cpuid.h.html#(anonymousstruct)::(anonymousunion)::(anonymous)::ext_model" title='(anonymous struct)::(anonymous union)::(anonymous struct)::ext_model' data-ref="(anonymousstruct)::(anonymousunion)::(anonymous)::ext_model" data-ref-filename="(anonymousstruct)..(anonymousunion)..(anonymous)..ext_model">ext_model</a>);</td></tr>
<tr><th id="72">72</th><td>}</td></tr>
<tr><th id="73">73</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2023-Jan-08</em> from project MOS<br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
